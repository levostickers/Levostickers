<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>levostickers - Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù„ØµÙ‚Ø§Øª</title>
<style>
body{font-family:Arial;margin:0}
header{background:#333;color:#fff;text-align:center;padding:1rem;position:relative}
#cart-icon{position:absolute;top:10px;right:10px;font-size:2rem;cursor:pointer}
#cart-count{background:red;color:#fff;border-radius:50%;padding:2px 6px;font-size:12px;position:absolute;top:-5px;right:-10px}
nav{background:#444;text-align:center;padding:10px}
nav a{color:#fff;margin:0 10px;text-decoration:none}
.product{width:30%;margin:1%;display:inline-block;box-shadow:0 0 10px #ccc;padding:10px;text-align:center}
.out-of-stock{opacity:.5;pointer-events:none}
button{padding:6px 12px;border:none;cursor:pointer;color:#fff;background:#333}
.add-to-cart{background:#28a745}
.remove-btn{background:#dc3545}
.delete-btn{background:red}
#cart{display:none;position:fixed;top:0;right:0;width:300px;height:100%;background:#fff;box-shadow:-2px 0 10px #aaa;padding:10px;overflow-y:auto}
.close-btn{background:#666;position:absolute;top:10px;left:10px}
#checkout-modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);justify-content:center;align-items:center}
#checkout-modal>div{background:#fff;padding:20px;width:90%;max-width:500px}
#admin-section{display:none;padding:20px}
.admin-sticker{display:flex;justify-content:space-between;align-items:center;box-shadow:0 0 10px #ccc;margin:10px 0;padding:10px}

/* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„Ø§Ø­ØªÙØ§Ù„ */
#celebration {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    color: #fff;
    font-size: 2rem;
    text-align: center;
    animation: fadeIn 1s ease-in-out;
}
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
.confetti {
    position: absolute;
    width: 10px;
    height: 10px;
    background: #ff0;
    animation: fall 3s linear infinite;
}
.confetti:nth-child(odd) { background: #f00; }
.confetti:nth-child(3n) { background: #0f0; }
@keyframes fall {
    to { transform: translateY(100vh) rotate(360deg); }
}
</style>
</head>
<body>

<header>
<h1>levostickers</h1>
<div id="cart-icon" onclick="toggleCart()">ğŸ›’ <span id="cart-count">0</span></div>
</header>

<nav>
<a href="#products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
<a href="#contact">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
<a href="#" id="admin-link">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</a>
</nav>

<!-- Ø¹Ù†ØµØ± Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø§Ù„Ø§Ø­ØªÙØ§Ù„ÙŠ -->
<div id="celebration">
    <div>ğŸ‰ Ø§ÙØªØªØ§Ø­ Ø§Ù„Ù…ØªØ¬Ø±! ğŸ‰</div>
    <!-- Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„Ø§Ø­ØªÙØ§Ù„ -->
    <div class="confetti" style="left: 10%; animation-delay: 0s;"></div>
    <div class="confetti" style="left: 20%; animation-delay: 0.5s;"></div>
    <div class="confetti" style="left: 30%; animation-delay: 1s;"></div>
    <div class="confetti" style="left: 40%; animation-delay: 1.5s;"></div>
    <div class="confetti" style="left: 50%; animation-delay: 2s;"></div>
    <div class="confetti" style="left: 60%; animation-delay: 2.5s;"></div>
    <div class="confetti" style="left: 70%; animation-delay: 3s;"></div>
    <div class="confetti" style="left: 80%; animation-delay: 3.5s;"></div>
    <div class="confetti" style="left: 90%; animation-delay: 4s;"></div>
    <button onclick="closeCelebration()" style="margin-top: 20px; padding: 10px; background: #28a745; color: #fff; border: none; cursor: pointer;">Ø¥ØºÙ„Ø§Ù‚</button>
</div>

<div id="cart">
<button class="close-btn" onclick="toggleCart()">Ã—</button>
<h3>Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚</h3>
<div id="cart-items"></div>
<p>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="cart-total">0</span> Ø¬Ù†ÙŠÙ‡</p>
<button onclick="openCheckout()">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
</div>

<div id="checkout-modal">
<div>
<h3>Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h3>
<form id="checkout-form">
<input type="text" id="buyer-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
<input type="tel" id="buyer-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
<textarea id="buyer-notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"></textarea>
<button type="submit">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± WhatsApp</button>
<button type="button" onclick="closeCheckout()">Ø¥Ù„ØºØ§Ø¡</button>
</form>
</div>
</div>

<section id="products">
<h2>Ù…Ù„ØµÙ‚Ø§ØªÙ†Ø§</h2>
<div id="product-list"></div>
</section>

<section id="admin-section">
<h2>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</h2>
<form id="sticker-form">
<input type="password" id="admin-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
<input id="image-url" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©" required>
<input id="sticker-name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù„ØµÙ‚" required>
<input type="number" id="sticker-price" placeholder="Ø§Ù„Ø³Ø¹Ø±" required>
<input type="number" id="sticker-quantity" placeholder="Ø§Ù„ÙƒÙ…ÙŠØ©" required>
<button type="submit">Ø¥Ø¶Ø§ÙØ©</button>
</form>
<div id="admin-sticker-list"></div>
</section>

<script>
const cartDiv=document.getElementById("cart");
const cartCount=document.getElementById("cart-count");
const cartItems=document.getElementById("cart-items");
const cartTotal=document.getElementById("cart-total");
const checkoutForm=document.getElementById("checkout-form");
const productList=document.getElementById("product-list");
const adminSection=document.getElementById("admin-section");
const adminLink=document.getElementById("admin-link");
const adminStickerList=document.getElementById("admin-sticker-list");

const ADMIN_PASSWORD="admin123";
let stickers=JSON.parse(localStorage.getItem("stickers"))||[];
let cart=JSON.parse(localStorage.getItem("cart"))||[];

function toggleCart(){
cartDiv.style.display=cartDiv.style.display==="block"?"none":"block";
}

function loadStickers(){
productList.innerHTML="";
stickers.forEach((s,i)=>{
const div=document.createElement("div");
div.className="product"+(s.quantity<=0?" out-of-stock":"");
div.innerHTML=`<img src="${s.image}" width="100%">
<h3>${s.name}</h3>
<p>${s.price} Ø¬Ù†ÙŠÙ‡</p>
<p>Ø§Ù„ÙƒÙ…ÙŠØ©: ${s.quantity}</p>
<button class="add-to-cart" onclick="addToCart(${i})" ${s.quantity<=0?"disabled":""}>Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>`;
productList.appendChild(div);
});
}

function addToCart(i){
if(stickers[i].quantity<=0)return;
cart.push({index:i,name:stickers[i].name,price:stickers[i].price});
stickers[i].quantity--;
save();
alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„ØµÙ‚ Ù„Ù„Ø³Ù„Ø©");
}

function removeFromCart(i){
let item=cart.splice(i,1)[0];
stickers[item.index].quantity++;
save();
}

function save(){
localStorage.setItem("stickers",JSON.stringify(stickers));
localStorage.setItem("cart",JSON.stringify(cart));
updateCart();
loadStickers();
loadAdminStickers();
}

function updateCart(){
cartItems.innerHTML="";
let total=0;
cart.forEach((c,i)=>{
total+=+c.price;
cartItems.innerHTML+=`<p>${c.name} - ${c.price} <button class="remove-btn" onclick="removeFromCart(${i})">Ã—</button></p>`;
});
cartTotal.textContent=total;
cartCount.textContent=cart.length;
}

function openCheckout(){
if(cart.length===0){alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!");return;}
document.getElementById("checkout-modal").style.display="flex";
}

function closeCheckout(){
document.getElementById("checkout-modal").style.display="none";
}

// Ø·Ù„Ø¨ Ø¹Ø¨Ø± WhatsApp
checkoutForm.addEventListener("submit",function(e){
e.preventDefault();
if(cart.length===0){alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!");return;}
let name=document.getElementById("buyer-name").value.trim();
let phone=document.getElementById("buyer-phone").value.trim();
let notes=document.getElementById("buyer-notes").value.trim();
let total=cart.reduce((sum,item)=>sum+Number(item.price),0);
let orderDetails=cart.map(item=>`${item.name} - ${item.price} Ø¬Ù†ÙŠÙ‡`).join("\n");

// Ø±Ù‚Ù… WhatsApp Ø§Ù„Ù…Ø³ØªÙ„Ù…
let whatsappNumber="201036903621"; // Ø­Ø· Ø±Ù‚Ù…Ùƒ Ù‡Ù†Ø§ Ø¨Ø¯ÙˆÙ† + Ø£Ùˆ 00
let message=`Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ Ù„Ø¯ÙŠ Ø·Ù„Ø¨ Ù…Ù† levostickers:\nØ§Ù„Ø§Ø³Ù…: ${name}\nØ§Ù„Ù‡Ø§ØªÙ: ${phone}\nØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes}\nØ§Ù„Ø·Ù„Ø¨Ø§Øª:\n${orderDetails}\nØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬Ù†ÙŠÙ‡`;
let url=`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
window.open(url,"_blank");

// Ù…Ø³Ø­ Ø§Ù„Ø³Ù„Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
cart=[];
save();
closeCheckout();
checkoutForm.reset();
});

// Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
adminLink.addEventListener("click",e=>{
e.preventDefault();
let pass=prompt("ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:");
if(pass===ADMIN_PASSWORD){
adminSection.style.display="block";
window.scrollTo(0,adminSection.offsetTop);
loadAdminStickers();
}else alert("ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©!");
});

function loadAdminStickers(){
adminStickerList.innerHTML="";
stickers.forEach((s,i)=>{
adminStickerList.innerHTML+=`<div class="admin-sticker"><img src="${s.image}" width="80">
<div>${s.name}<br>${s.price}Ø¬ | ${s.quantity}</div>
<button class="delete-btn" onclick="deleteSticker(${i})">Ø­Ø°Ù</button></div>`;
});
}

function deleteSticker(i){
stickers.splice(i,1);
save();
}

document.getElementById("sticker-form").addEventListener("submit",e=>{
e.preventDefault();
let pass=document.getElementById("admin-password").value;
if(pass!==ADMIN_PASSWORD){alert("ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø®Ø§Ø·Ø¦Ø©!");return;}
stickers.push({
image:document.getElementById("image-url").value,
name:document.getElementById("sticker-name").value,
price:document.getElementById("sticker-price").value,
quantity:Number(document.getElementById("sticker-quantity").value)
});
save();
e.target.reset();
alert("ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„ØµÙ‚!");
});

// ÙˆØ¸ÙŠÙØ© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù†
function showCelebration() {
    document.getElementById("celebration").style.display = "flex";
}

// ÙˆØ¸ÙŠÙØ© Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù†
function closeCelebration() {
    document.getElementById("celebration").style.display = "none";
}

// ØªØ­Ù…ÙŠÙ„ Ø£ÙˆÙ„ÙŠ
loadStickers();
updateCart();

// Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
window.onload = function() {
    showCelebration();
};
</script>
</body>
</html>
